export const DEFAULT_COLOR = 'var(--tag-color-plus)';

export const CATEGORY_COLORS: Record<string, string> = {
  'Бизнес и карьера': 'var(--tag-color-business)',
  'Иностранные языки': 'var(--tag-color-language)',
  'Творчество и искусство': 'var(--tag-color-art)',
  'Образование и развитие': 'var(--tag-color-education)',
  'Дом и уют': 'var(--tag-color-household)',
  'Здоровье и лайфстайл': 'var(--tag-color-lifestyle)'
};

export const SUBCATEGORY_COLORS: Record<
  string,
  keyof typeof CATEGORY_COLORS | string
> = {
  'Управление командой': 'Бизнес и карьера',
  'Маркетинг и реклама': 'Бизнес и карьера',
  'Продажи и переговоры': 'Бизнес и карьера',
  'Личный бренд': 'Бизнес и карьера',
  'Резюме и собеседование': 'Бизнес и карьера',
  'Тайм-менеджмент': 'Бизнес и карьера',
  'Проектное управление': 'Бизнес и карьера',
  'Предпринимательство': 'Бизнес и карьера',

  'Английский': 'Иностранные языки',
  'Немецкий': 'Иностранные языки',
  'Испанский': 'Иностранные языки',
  'Французский': 'Иностранные языки',
  'Китайский': 'Иностранные языки',
  'Японский': 'Иностранные языки',
  'Подготовка к экзаменам (IELTS, TOEFL)': 'Иностранные языки',

  'Рисование и иллюстрация': 'Творчество и искусство',
  'Фотография': 'Творчество и искусство',
  'Видеомонтаж': 'Творчество и искусство',
  'Музыка и звук': 'Творчество и искусство',
  'Актёрское мастерство': 'Творчество и искусство',
  'Креативное письмо': 'Творчество и искусство',
  'Арт-терапия': 'Творчество и искусство',
  'Декор и DIY': 'Творчество и искусство',

  'Личностное развитие': 'Образование и развитие',
  'Навыки обучения': 'Образование и развитие',
  'Когнитивные техники': 'Образование и развитие',
  'Скорочтение': 'Образование и развитие',
  'Навыки преподавания': 'Образование и развитие',
  'Коучинг': 'Образование и развитие',

  'Уборка и организация': 'Дом и уют',
  'Домашние финансы': 'Дом и уют',
  'Приготовление еды': 'Дом и уют',
  'Домашние растения': 'Дом и уют',
  'Ремонт': 'Дом и уют',
  'Хранение вещей': 'Дом и уют',

  'Йога и медитация': 'Здоровье и лайфстайл',
  'Питание и ЗОЖ': 'Здоровье и лайфстайл',
  'Ментальное здоровье': 'Здоровье и лайфстайл',
  'Осознанность': 'Здоровье и лайфстайл',
  'Физические тренировки': 'Здоровье и лайфстайл',
  'Сон и восстановление': 'Здоровье и лайфстайл',
  'Баланс жизни и работы': 'Здоровье и лайфстайл'
};

const isCssColorLiteral = (val: string) =>
  val.startsWith('var(') ||
  val.startsWith('#') ||
  val.startsWith('rgb(') ||
  val.startsWith('hsl(');

export const getCategoryColor = (category?: string | null): string => {
  if (!category) return DEFAULT_COLOR;
  return CATEGORY_COLORS[category] ?? DEFAULT_COLOR;
};

export const getSubcategoryColor = (subcategory?: string | null): string => {
  if (!subcategory) return DEFAULT_COLOR;
  const mapped = SUBCATEGORY_COLORS[subcategory];
  if (!mapped) return DEFAULT_COLOR;
  if (typeof mapped === 'string' && isCssColorLiteral(mapped)) return mapped;
  const categoryName = String(mapped);

  return CATEGORY_COLORS[categoryName] ?? DEFAULT_COLOR;
};
